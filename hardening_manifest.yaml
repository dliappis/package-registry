---
apiVersion: v1

# The repository name in platform one (p1), excluding /ironbank/
name: "elastic/package-registry/package-registry"

# List of tags to push to p1
# The most specific version should be the first tag and will be shown
# on ironbank.dsop.io
tags:
- "{{ elastic_version }}"
- "latest"

args:
  BASE_IMAGE: "redhat/ubi/ubi9"
  BASE_TAG: "9.4"

# Docker image labels
labels:
  ## Product the image belongs to for grouping multiple images
  mil.dso.ironbank.product.name: "elastic-package-registry"
  ## This value can be "opensource" or "commercial"
  mil.dso.ironbank.image.type: "commercial"
  ## Keywords to help with search (ex. "cicd,gitops,golang")
  mil.dso.ironbank.image.keywords: "elastic,package-registry"
  org.opencontainers.image.title: "package-registry"
  ## Human-readable description of the software packaged in the image
  org.opencontainers.image.description: "Elastic Package Registry is a centralized repository for Elastic Packages."
  ## License(s) under which contained software is distributed
  org.opencontainers.image.licenses: "Elastic License"
  ## URL to find more information on the image
  org.opencontainers.image.url: "https://github.com/elastic/package-registry"
  ## Name of the distributing entity, organization or individual
  org.opencontainers.image.vendor: "Elastic"
  org.opencontainers.image.version: "{{ elastic_version }}"

# List of resources to make available to the offline build context
resources:
- filename: logstash-{{ elastic_version }}-linux-x86_64.tar.gz
  url: https://artifacts.elastic.co/downloads/logstash/logstash-{{ elastic_version }}-linux-x86_64.tar.gz
  validation:
    type: sha512
    value: <INSERT SHA512 VALUE FROM https://artifacts.elastic.co/downloads/logstash/logstash-{{ elastic_version }}-linux-x86_64.tar.gz.sha512>
- filename: go1.17.8.linux-amd64.tar.gz
  url: https://dl.google.com/go/go1.17.8.linux-amd64.tar.gz
  validation:
    type: sha256
    value: 980e65a863377e69fd9b67df9d8395fd8e93858e7a24c9f55803421e453f4f99
- filename: v2.3.0.tar.gz
  url: https://github.com/go-yaml/yaml/archive/v2.3.0.tar.gz
  validation:
    type: sha512
    value: ba934e9cb5ebd2346d3897308b71d13bc6471a8dbc0dc0d46a02644ee6b6553d20c20393471b81025b572a9b03e3326bde9c3e8be156474f1a1f91ff027b6a4f

# List of project maintainers
maintainers:
- name: "Nassim Kammah"
  username: "nkammah"
  email: "nassim.kammah@elastic.co"
